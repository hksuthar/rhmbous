# Autogenerated by Duda Client Manager
# ====================================
# Date      : Thu 03, Aug 2017 at 15:25
# Stage Path: /home/debian/.dudac/stage/monkey/

NAME    = mbs
CC      = gcc
CFLAGS  = -g -Wall -DDEBUG -std=gnu99
INCDIR  = -I/usr/local/include/modbus -I/home/debian/redis-4.0.1/deps/hiredis -I/home/debian/.dudac/stage/monkey//include/ -I/home/debian/.dudac/stage/monkey//src/include -I/home/debian/.dudac/stage/monkey//plugins/duda/src -I/home/debian/.dudac/stage/monkey//plugins/duda/
LDFLAGS = -Wl,/usr/local/lib/libmodbus.so -Wl,-rpath -Wl,/usr/local/lib/
DEFS    =
OBJECTS = main.o libhiredis.a

_PATH     = $(patsubst /%, %, $(CURDIR))
_CC       = @/bin/echo -e "  [\033[33mCC\033[0m]   $@"; $(CC)
_DD       = @/bin/echo -e "  [\033[32mDD\033[0m]   $@"; $(CC)
_CC_QUIET = @/bin/echo -n; $(CC)

all: $(NAME).duda

$(NAME).duda: $(OBJECTS)
	$(_DD) $(CFLAGS) $(DEFS) -shared -o $@ $^ -lc $(LDFLAGS)

.c.o:
	$(_CC) -c $(CFLAGS) $(DEFS) $(INCDIR) -fPIC $*.c -o $*.o
	$(_CC_QUIET) -MM -MP $(CFLAGS) $(DEFS) $(INCDIR) $*.c -o $*.d > /dev/null &2>&1

clean:
	rm -rf *.o *.d *~ $(NAME).duda
